---
import { Debug } from "astro/components";
import { Image } from "astro:assets";
const { node } = Astro.props;
---

<!--<Debug answer={node} />--><!-- Display categories links if node has terms -->
<section class="ly">
  <div class="container">
    <div class="grid">
      <div class="w-lg-6"><h1>{node.title}</h1></div>
      <div
        class="w-12"
        set:html={node.categories?.nodes
          .map(
            (category) =>
              `<a class="term-link" href="${category.uri}">${category.name}</a>`,
          )
          .join(" ")}
      />
      <div class="w-12"></div>
      <!-- Only show date if node is a Post -->
      {
        node.__typename === "Post" ? (
          <p class="post-details">
            Posted on{" "}
            <time datetime={node.date}>
              {new Date(node.date).toLocaleDateString()}
            </time>
          </p>
        ) : null
      }
    </div>
  </div>
</section>

<section class="ly">
  <div class="container">
    <div class="grid">
      <div class="w-12 w-lg-6">
        <picture class="img-wrap" style="height:50vh;">
          <source srcset={node.featuredImage.node.srcSet} />
          <img
            src={node.featuredImage.node.sourceUrl}
            alt={node.featuredImage.node.altText}
            loading="lazy"
            width={node.featuredImage.node.mediaDetails?.width}
            height={node.featuredImage.node.mediaDetails?.height}
          />
        </picture>
      </div>
      <div class="w-12 w-lg-5 s-lg-8">
        <article set:html={node.content} />
      </div>
    </div>
  </div>
</section>

<style is:global>
  /* .wp-block-image img {
    width: 100%;
    height: auto;
  } */
</style>
